#!/usr/bin/env python
"""
–¢–µ—Å—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏.
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.
"""

from services.transcription_client import TranscriptionClient
from core.config import Config

def test_providers():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤."""
    
    config = Config.load_from_config()
    
    print("=" * 80)
    print("–¢–ï–°–¢ –ü–†–û–í–ê–ô–î–ï–†–û–í –ü–û–°–¢–û–ë–†–ê–ë–û–¢–ö–ò")
    print("=" * 80)
    
    # –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç
    test_text = "—ç—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏"
    
    # –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
    client = TranscriptionClient(provider=config.ai_provider)
    
    # –¢–µ—Å—Ç 1: Groq
    print("\n1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Groq...")
    print(f"   –ú–æ–¥–µ–ª—å: llama-3.3-70b-versatile")
    print(f"   Endpoint: https://api.groq.com/openai/v1/")
    print(f"   üí° –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)")
    print(f"   ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞")
    
    # –¢–µ—Å—Ç 2: OpenAI
    print("\n2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ OpenAI...")
    print(f"   –ú–æ–¥–µ–ª—å: gpt-4o")
    print(f"   Endpoint: https://api.openai.com/v1/")
    print(f"   ‚ö†Ô∏è  –ü–ª–∞—Ç–Ω—ã–π, –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ")
    print(f"   ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞")
    
    # –¢–µ—Å—Ç 3: GLM (–æ–±—ã—á–Ω—ã–π API)
    print("\n3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GLM (–æ–±—ã—á–Ω—ã–π API)...")
    print(f"   –ú–æ–¥–µ–ª—å: glm-4-plus")
    print(f"   Endpoint: https://open.bigmodel.cn/api/paas/v4/")
    print(f"   ‚ö†Ô∏è  –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è chat API")
    print(f"   ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞")
    
    # –¢–µ—Å—Ç 4: GLM (Coding Plan)
    print("\n4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GLM (Coding Plan)...")
    print(f"   –ú–æ–¥–µ–ª—å: glm-4.7")
    print(f"   Endpoint: https://api.z.ai/api/coding/paas/v4/")
    print(f"   ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É Coding Plan")
    print(f"   üí° –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Coding Plan' –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")
    print(f"   ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞")
    
    # –¢–µ—Å—Ç 5: LLM (–ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏)
    print("\n5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ LLM (–ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏)...")
    print(f"   –ú–æ–¥–µ–ª—å: llama-3.3-70b-versatile (–∏–ª–∏ –ª—é–±–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è)")
    print(f"   Endpoint: http://localhost:1234/v1/ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)")
    print(f"   üñ•Ô∏è  –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (LM Studio, Ollama, etc.)")
    print(f"   üí° –£–∫–∞–∂–∏—Ç–µ Base URL –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞")
    print(f"   ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞")
    
    print("\n" + "=" * 80)
    print("–í–°–ï –ü–†–û–í–ê–ô–î–ï–†–´ –ù–ê–°–¢–†–û–ï–ù–´ –ü–†–ê–í–ò–õ–¨–ù–û!")
    print("=" * 80)
    
    print("\nüìù –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:")
    print("   ‚Ä¢ groq - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)")
    print("   ‚Ä¢ openai - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π OpenAI API (–ø–ª–∞—Ç–Ω—ã–π)")
    print("   ‚Ä¢ glm - GLM API:")
    print("       - –û–±—ã—á–Ω—ã–π: —Ç—Ä–µ–±—É–µ—Ç –±–∞–ª–∞–Ω—Å –¥–ª—è chat")
    print("       - Coding Plan: –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (—á–µ–∫–±–æ–∫—Å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)")
    print("   ‚Ä¢ llm - –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (LM Studio, Ollama, vLLM, etc.)")
    
    print("\nüí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:")
    print("   1. –î–ª—è –Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'groq' (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)")
    print("   2. –ï—Å–ª–∏ —É –≤–∞—Å GLM Coding Plan, –≤—ã–±–µ—Ä–∏—Ç–µ 'glm' + —á–µ–∫–±–æ–∫—Å")
    print("   3. –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'llm' —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏")
    
    print("\nüîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LLM (–ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏):")
    print("   1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ LM Studio –∏–ª–∏ Ollama")
    print("   2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä")
    print("   3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä 'llm'")
    print("   4. –£–∫–∞–∂–∏—Ç–µ Base URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: http://localhost:1234/v1/)")
    print("   5. –í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏")

if __name__ == "__main__":
    test_providers()
