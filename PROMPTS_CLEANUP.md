# Очистка хардкоженных промптов

## Что было сделано

### Удалены setup-скрипты
Все setup-скрипты, которые хардкодили промпты, были удалены:
- ❌ `setup_html_prompts.py` - удален
- ❌ `setup_whatsapp_format.py` - удален
- ❌ `setup_bbcode_prompt.py` - удален
- ❌ `setup_bbcode_keywords.py` - удален
- ❌ `add_desktop_keywords.py` - удален

### Почему это было сделано
1. **Единый источник правды**: Все промпты должны храниться ТОЛЬКО в `.env` файле
2. **Редактирование через UI**: Пользователь может редактировать промпты через настройки приложения
3. **Нет дублирования**: Setup-скрипты дублировали промпты, что приводило к рассинхронизации

### Что осталось
✅ Все промпты хранятся в `.env` файле в переменной `FORMATTING_APP_PROMPTS`
✅ Все ключевые слова хранятся в `.env` файле в переменной `FORMATTING_WEB_APP_KEYWORDS`
✅ Код читает промпты напрямую из `.env` файла (минуя dotenv)
✅ Промпты содержат все правила для списков (CRITICAL LIST DETECTION RULES)

## Проверка

### Word/Google Docs промпт содержит:
- ✅ CRITICAL LIST DETECTION RULES
- ✅ Примеры списков (помидоры, томаты, арбузы)
- ✅ WRONG EXAMPLE (показывает неправильное форматирование)
- ✅ CORRECT пример (показывает правильное форматирование)

### Правила для списков:
```
When you see multiple items mentioned (like "помидоры, томаты, арбузы"):
1. ALWAYS create a list (<ul> or <ol>)
2. Each item MUST be in separate <li> tag
3. DO NOT put list items in <p> tags
4. Lists are for: shopping items, steps, multiple things, enumeration
```

## Как редактировать промпты

1. Открыть настройки приложения
2. Перейти в раздел "Форматирование"
3. Выбрать приложение (word, notion, whatsapp и т.д.)
4. Отредактировать промпт
5. Сохранить - изменения автоматически сохранятся в `.env`

## Важно

- **НЕ создавайте новые setup-скрипты** - они хардкодят промпты
- **Редактируйте промпты только через UI** или напрямую в `.env` файле
- **Все промпты должны браться с одного места** - из `.env` файла
